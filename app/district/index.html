<!doctype html>
<html lang="en">
	<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Index</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="../styles/token-input-facebook.css">
	<link rel="stylesheet" href="../styles/token-input-mac.css">
	<link rel="stylesheet" href="../styles/token-input.css">
	<style>
        .loading {
            background: rgba(0, 0, 0, .5);
            width: 100%;
            height: 100%;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 999;
        }
        .spinner-center {
            top: 50%;
            left: 50%;
            position: absolute;
        }
    </style>
</head>
	<body>
		<div class="container" ng-app="myApp">
			<div ng-controller="myCtrl">
				
			<div class="create" ng-controller="create">
				<div class="text-center">
					<div ng-show="isShow" class="loading">
						<div class="spinner-border text-primary spinner-center" role="status">
						</div>
					</div>
				</div>
				<p class="h2 text-center">Thêm mới quận huyện</p>
				<div class="form-control">
					<form method="POST">
						<div class="form-group">
							<label for="name">Tên tỉnh , thành phố</label>
							<select ng-model="data.province.id" class="form-select">
								<option value="" disabled>Mời chọn tỉnh thành phố</option>
								<option ng-repeat = "x in provinces"  value="{{x.id}}">{{x.name}}</option>
							</select>
						</div>
						<div class="form-group">
							<label for="name">Tên quận huyện</label>
							<input type="text" class="form-control" id="name" ng-model="data.name">
						</div>
						<input type="button" value="Thêm mới" class="btn btn-success m-1" id="create"></button>
						<div class="alert alert-danger" role="alert" ng-show = "error">
							{{}}
						  </div>
						  <div class="alert alert-success" role="alert" ng-show = "success">
							{{message}}
						  </div>
					</form>
				</div>
			</div>
			<hr>
		   <div class="row">
				<div class="h2 text-center">
					Danh sách quận huyện
				</div>
			</div>
			<div class="district row" >
				<div class="col-2">
					Mời nhập các tên tỉnh thành
				</div>
				<div class="col-6">
					<input type="text" id="district-value" />
				</div>
				<div class="col-2">
					<button type="button" class="btn btn-secondary" id="search">Tìm kiếm</button>
				</div>
				<div class="content">
					<table class="table table-striped">
						<thead>
							<tr>
								<th>STT</th>
								<th>Tên tỉnh thành</th>
								<th>Tên quận huyện</th>
								<th>Action</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="x in data">
								<td class="id">{{x.id}}</td>
								<td class="province">{{x.province}}</td>
								<td class="name">{{x.name}}</td>
								<td>
									<button class="btn btn-danger remove">Xóa</button>
									<button class="btn btn-primary update">Sửa</button>
								</td>
							</tr>
						</tbody>
					</table>
			  </div>
		   </div>
		</div>
		<div class="modal fade" id="update" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog">
			  <div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5" id="exampleModalLabel">Sửa quận huyện</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body" ng-controller = "update">
					<form action="" ng-submit="update($event)" method="POST">
						<div class="form-group">
							<label for="name">
								Tên quận huyện
							</label>
							<input type="text" class="form-control" id="name" ng-model="data.name">
							<button type="submit" class="btn btn-primary m-1">Save changes</button>
							<div class="alert alert-danger" ng-show = "error">Cập nhật thất bại</div>
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
				</div>
			  </div>
			</div>
		  </div>
		</div>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>  
	<script src="../js/jquery.tokeninput.js"></script>  
	<script src="../js/district.js"></script> 
	</body>
</html>